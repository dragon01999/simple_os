
./kernel8.elf:     file format elf64-littleaarch64


Disassembly of section .text:

0000000040000000 <_start>:
    40000000:	d50041bf 	msr	spsel, #0x1
    40000004:	d5034fdf 	msr	daifset, #0xf
    40000008:	58000441 	ldr	x1, 40000090 <zero_bss+0x18>
    4000000c:	9100003f 	mov	sp, x1
    40000010:	58000441 	ldr	x1, 40000098 <zero_bss+0x20>
    40000014:	58000462 	ldr	x2, 400000a0 <zero_bss+0x28>
    40000018:	eb02003f 	cmp	x1, x2
    4000001c:	94000017 	bl	40000078 <zero_bss>
    40000020:	58000441 	ldr	x1, 400000a8 <zero_bss+0x30>
    40000024:	d518c001 	msr	vbar_el1, x1
    40000028:	d5033fdf 	isb
    4000002c:	d5381001 	mrs	x1, sctlr_el1
    40000030:	d28003e2 	mov	x2, #0x1f                  	// #31
    40000034:	aa2203e2 	mvn	x2, x2
    40000038:	8a020021 	and	x1, x1, x2
    4000003c:	d2800022 	mov	x2, #0x1                   	// #1
    40000040:	d374cc42 	lsl	x2, x2, #12
    40000044:	aa2203e2 	mvn	x2, x2
    40000048:	8a020021 	and	x1, x1, x2
    4000004c:	d2800022 	mov	x2, #0x1                   	// #1
    40000050:	d36db042 	lsl	x2, x2, #19
    40000054:	aa2203e2 	mvn	x2, x2
    40000058:	8a020021 	and	x1, x1, x2
    4000005c:	d2800062 	mov	x2, #0x3                   	// #3
    40000060:	d3679842 	lsl	x2, x2, #25
    40000064:	aa2203e2 	mvn	x2, x2
    40000068:	8a020021 	and	x1, x1, x2
    4000006c:	d5181001 	msr	sctlr_el1, x1
    40000070:	d5033fdf 	isb
    40000074:	1400006c 	b	40000224 <kernel_main>

0000000040000078 <zero_bss>:
    40000078:	,-> f900003f 	str	xzr, [x1]
    4000007c:	|   91002021 	add	x1, x1, #0x8
    40000080:	|   eb02003f 	cmp	x1, x2
    40000084:	'-- 54ffffab 	b.lt	40000078 <zero_bss>  // b.tstop
    40000088:	    d65f03c0 	ret
    4000008c:	    00000000 	udf	#0
    40000090:	    40004880 	.word	0x40004880
    40000094:	    00000000 	.word	0x00000000
    40000098:	    40000878 	.word	0x40000878
    4000009c:	    00000000 	.word	0x00000000
    400000a0:	    40000878 	.word	0x40000878
    400000a4:	    00000000 	.word	0x00000000
    400000a8:	    40000800 	.word	0x40000800
    400000ac:	    00000000 	.word	0x00000000

00000000400000b0 <uart_putc>:
    400000b0:	    52800308 	mov	w8, #0x18                  	// #24
    400000b4:	    72a12008 	movk	w8, #0x900, lsl #16
    400000b8:	,-> b9400109 	ldr	w9, [x8]
    400000bc:	'-- 372fffe9 	tbnz	w9, #5, 400000b8 <uart_putc+0x8>
    400000c0:	    12001c08 	and	w8, w0, #0xff
    400000c4:	    52a12009 	mov	w9, #0x9000000             	// #150994944
    400000c8:	    b9000128 	str	w8, [x9]
    400000cc:	    d65f03c0 	ret

00000000400000d0 <uart_puts>:
    400000d0:	       39400008 	ldrb	w8, [x0]
    400000d4:	,----- 34000168 	cbz	w8, 40000100 <uart_puts+0x30>
    400000d8:	|      5280030a 	mov	w10, #0x18                  	// #24
    400000dc:	|      aa1f03e9 	mov	x9, xzr
    400000e0:	|      52a1200b 	mov	w11, #0x9000000             	// #150994944
    400000e4:	|      72a1200a 	movk	w10, #0x900, lsl #16
    400000e8:	|  ,-> b940014c 	ldr	w12, [x10]
    400000ec:	|  +-- 372fffec 	tbnz	w12, #5, 400000e8 <uart_puts+0x18>
    400000f0:	|  |   b9000168 	str	w8, [x11]
    400000f4:	|  |   91000529 	add	x9, x9, #0x1
    400000f8:	|  |   38696808 	ldrb	w8, [x0, x9]
    400000fc:	|  '-- 35ffff68 	cbnz	w8, 400000e8 <uart_puts+0x18>
    40000100:	'----> d65f03c0 	ret

0000000040000104 <panic>:
    40000104:	       52800308 	mov	w8, #0x18                  	// #24
    40000108:	       72a12008 	movk	w8, #0x900, lsl #16
    4000010c:	   ,-> b9400109 	ldr	w9, [x8]
    40000110:	   '-- 372fffe9 	tbnz	w9, #5, 4000010c <panic+0x8>
    40000114:	       52a12009 	mov	w9, #0x9000000             	// #150994944
    40000118:	       5280014a 	mov	w10, #0xa                   	// #10
    4000011c:	       b900012a 	str	w10, [x9]
    40000120:	       39400009 	ldrb	w9, [x0]
    40000124:	,----- 34000129 	cbz	w9, 40000148 <panic+0x44>
    40000128:	|      aa1f03ea 	mov	x10, xzr
    4000012c:	|      52a1200b 	mov	w11, #0x9000000             	// #150994944
    40000130:	|  ,-> b940010c 	ldr	w12, [x8]
    40000134:	|  +-- 372fffec 	tbnz	w12, #5, 40000130 <panic+0x2c>
    40000138:	|  |   b9000169 	str	w9, [x11]
    4000013c:	|  |   9100054a 	add	x10, x10, #0x1
    40000140:	|  |   386a6809 	ldrb	w9, [x0, x10]
    40000144:	|  '-- 35ffff69 	cbnz	w9, 40000130 <panic+0x2c>
    40000148:	+----- 14000000 	b	40000148 <panic+0x44>

000000004000014c <memset>:
    4000014c:	             a9bd7bfd 	stp	x29, x30, [sp, #-48]!
    40000150:	             a9024ff4 	stp	x20, x19, [sp, #32]
    40000154:	             aa0003f4 	mov	x20, x0
    40000158:	             d503201f 	nop
    4000015c:	             70003780 	adr	x0, 4000084f <__interrupt_vect+0x4f>
    40000160:	             f9000bf5 	str	x21, [sp, #16]
    40000164:	             910003fd 	mov	x29, sp
    40000168:	             2a0203f5 	mov	w21, w2
    4000016c:	             2a0103f3 	mov	w19, w1
    40000170:	             97ffffd8 	bl	400000d0 <uart_puts>
    40000174:	             710006bf 	cmp	w21, #0x1
    40000178:	,----------- 540004ab 	b.lt	4000020c <memset+0xc0>  // b.tstop
    4000017c:	|            71001ebf 	cmp	w21, #0x7
    40000180:	|            2a1503e8 	mov	w8, w21
    40000184:	|        ,-- 54000068 	b.hi	40000190 <memset+0x44>  // b.pmore
    40000188:	|        |   aa1f03e9 	mov	x9, xzr
    4000018c:	|  ,-----|-- 1400001b 	b	400001f8 <memset+0xac>
    40000190:	|  |     '-> 710082bf 	cmp	w21, #0x20
    40000194:	|  |     ,-- 54000062 	b.cs	400001a0 <memset+0x54>  // b.hs, b.nlast
    40000198:	|  |     |   aa1f03e9 	mov	x9, xzr
    4000019c:	|  |  ,--|-- 1400000d 	b	400001d0 <memset+0x84>
    400001a0:	|  |  |  '-> 4e010e60 	dup	v0.16b, w19
    400001a4:	|  |  |      927b6509 	and	x9, x8, #0x7fffffe0
    400001a8:	|  |  |      9100428a 	add	x10, x20, #0x10
    400001ac:	|  |  |      aa0903eb 	mov	x11, x9
    400001b0:	|  |  |  ,-> f100816b 	subs	x11, x11, #0x20
    400001b4:	|  |  |  |   ad3f8140 	stp	q0, q0, [x10, #-16]
    400001b8:	|  |  |  |   9100814a 	add	x10, x10, #0x20
    400001bc:	|  |  |  '-- 54ffffa1 	b.ne	400001b0 <memset+0x64>  // b.any
    400001c0:	|  |  |      eb08013f 	cmp	x9, x8
    400001c4:	+--|--|----- 54000240 	b.eq	4000020c <memset+0xc0>  // b.none
    400001c8:	|  |  |      f27d051f 	tst	x8, #0x18
    400001cc:	|  +--|----- 54000160 	b.eq	400001f8 <memset+0xac>  // b.none
    400001d0:	|  |  '----> 0e010e60 	dup	v0.8b, w19
    400001d4:	|  |         aa0903eb 	mov	x11, x9
    400001d8:	|  |         927d6d09 	and	x9, x8, #0x7ffffff8
    400001dc:	|  |         cb09016a 	sub	x10, x11, x9
    400001e0:	|  |         8b0b028b 	add	x11, x20, x11
    400001e4:	|  |     ,-> b100214a 	adds	x10, x10, #0x8
    400001e8:	|  |     |   fc008560 	str	d0, [x11], #8
    400001ec:	|  |     '-- 54ffffc1 	b.ne	400001e4 <memset+0x98>  // b.any
    400001f0:	|  |         eb08013f 	cmp	x9, x8
    400001f4:	+--|-------- 540000c0 	b.eq	4000020c <memset+0xc0>  // b.none
    400001f8:	|  '-------> 8b09028a 	add	x10, x20, x9
    400001fc:	|            cb090108 	sub	x8, x8, x9
    40000200:	|        ,-> f1000508 	subs	x8, x8, #0x1
    40000204:	|        |   38001553 	strb	w19, [x10], #1
    40000208:	|        '-- 54ffffc1 	b.ne	40000200 <memset+0xb4>  // b.any
    4000020c:	'----------> a9424ff4 	ldp	x20, x19, [sp, #32]
    40000210:	             90000000 	adrp	x0, 40000000 <_start>
    40000214:	             91216800 	add	x0, x0, #0x85a
    40000218:	             f9400bf5 	ldr	x21, [sp, #16]
    4000021c:	             a8c37bfd 	ldp	x29, x30, [sp], #48
    40000220:	             17ffffac 	b	400000d0 <uart_puts>

0000000040000224 <kernel_main>:
    40000224:	a9be7bfd 	stp	x29, x30, [sp, #-32]!
    40000228:	90000000 	adrp	x0, 40000000 <_start>
    4000022c:	91200000 	add	x0, x0, #0x800
    40000230:	f9000bf3 	str	x19, [sp, #16]
    40000234:	910003fd 	mov	x29, sp
    40000238:	97ffffa6 	bl	400000d0 <uart_puts>
    4000023c:	52800920 	mov	w0, #0x49                  	// #73
    40000240:	97ffff9c 	bl	400000b0 <uart_putc>
    40000244:	52800900 	mov	w0, #0x48                  	// #72
    40000248:	97ffff9a 	bl	400000b0 <uart_putc>
    4000024c:	d503201f 	nop
    40000250:	100030d3 	adr	x19, 40000868 <buff>
    40000254:	aa1303e0 	mov	x0, x19
    40000258:	97ffff9e 	bl	400000d0 <uart_puts>
    4000025c:	d503201f 	nop
    40000260:	70002f60 	adr	x0, 4000084f <__interrupt_vect+0x4f>
    40000264:	97ffff9b 	bl	400000d0 <uart_puts>
    40000268:	0f03e700 	movi	v0.8b, #0x78
    4000026c:	90000000 	adrp	x0, 40000000 <_start>
    40000270:	91216800 	add	x0, x0, #0x85a
    40000274:	fd000260 	str	d0, [x19]
    40000278:	97ffff96 	bl	400000d0 <uart_puts>
    4000027c:	90000000 	adrp	x0, 40000000 <_start>
    40000280:	91207c00 	add	x0, x0, #0x81f
    40000284:	97ffff93 	bl	400000d0 <uart_puts>
    40000288:	aa1303e0 	mov	x0, x19
    4000028c:	97ffff91 	bl	400000d0 <uart_puts>
    40000290:	f9400bf3 	ldr	x19, [sp, #16]
    40000294:	90000000 	adrp	x0, 40000000 <_start>
    40000298:	9120c800 	add	x0, x0, #0x832
    4000029c:	a8c27bfd 	ldp	x29, x30, [sp], #32
    400002a0:	17ffff99 	b	40000104 <panic>
